# Cookie 와 Session

HTTP의 프로토콜 특성상 요청과 응답이후 연결이 끊기기 때문에 서버는 클라이언트가 누구인지 매 요청마다 확인해야한다.

이걸 보안해주는데 쿠키 또는 세션을 활용하는데 간단한 예로 로그인 기능이 있다.

로그인된 유저에게 허용되는 행위를 할때마다 로그인을 요구하는 귀찮은 서버는 웬만하면 없을 것이다. 그렇다면 로그인을 하더라도 요청 응답에 흐름 이후 연결이 끊기는데,
어떻게 서버는 클라이언트가 어떤 유저인지를 판단할 수 있는가? 

이는 첫 로그인시 해당 유저에 로그인 정보를 저장하기 때문에 가능한 것인데 이처럼 사용자 상태를 유지 및 정보를 저장하는데 사용하는 메커니즘이 **쿠키와 세션**이다

저장하는 공간이 클라이언트냐 서버냐 에 따라 쿠키와 세션이 구분되어진다.  

* Cookie
	
	클라이언트 웹 브라우저에 키와 값 형태의 텍스트로 저장

	저장할 때 expires 속성을 통해 만료시간을 정의해 줄 수 있다.

	각 클라이언트에 저장되기 서버쪽에서 세션에 비해 메모리가 효율적이다.

	쿠키는 기본적으로 브라우저가 요청을 보낼 때 Request Header에 자동으로 포함을 시키기 때문에 사용자가 따라 처리를 안해도 쿠키정보가 서버에 전달된다.

	생성되는 원리 
	1. 클라이언트가 요청을 보냄
	2.  서버에서는 그에 해당하는 쿠키를 생성해서 응답(Set-Cookie)헤더에 포함시켜서 보냄
	3. 쿠키 정보가 포함된 응답을 받으면서 클라이언트에서 쿠키 만료 기간 또는 브라우저 종료까지 (만료기간이 우선) 보관하며 다음 요청부터는 해당 쿠키를 포함시킴

	네이버 등에 페이지에 접속한 후 쿠키를 확인해보면 이것저것 생기는 걸 확인할 수 있다. 실제로 진행했던 프로젝트 중 로그인 기능을 구현할 때 유저 정보를 담은 인증 데이터를 JWT 토큰으로 만들어 해당 유저에 쿠키로 보내서 다음 요청부터는 JWT 토큰을 검사하여 유저를 식별하는식으로 구현하였다. 
	문제는 보안인데....

* Session

	쿠키와 달리 서버에 저장되는 데이터 

	보안적으로는 쿠키보다 좋지만 모든 자원을 서버가 오롯이 관리해야함 세션이 생길 때마다 리소스를 차지함, 동접자 수가 성능에 영향을 끼침


# JWT
